<mat-card>
    <mat-card-header>Products</mat-card-header>
    <mat-card-content>
        <div class="row">
            <div class="col-sm-8">
                <form [formGroup]="filterform" (ngSubmit)="submitfilterform()">
                    <div class="mb-2">
                        <mat-button-toggle-group name="fontStyle" aria-label="Font Style" class="w-100"
                            formControlName="producttype">
                            <mat-button-toggle value="inventory">Inventory</mat-button-toggle>
                            <mat-button-toggle value="service">Service</mat-button-toggle>
                            <mat-button-toggle value="asset">Assets</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                    <div class="row gx-2">
                        <div class="col-sm-3">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Select Organization</mat-label>
                                <mat-select formControlName="organizationlist">
                                    <mat-option *ngFor="let orglist of organizationlistArray; let i=index"
                                        [value]="orglist.id">{{orglist.organizationName}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field class="example-full-width">
                                <mat-label>Organization list</mat-label>
                                <input type="text"
                                       placeholder="Pick one"
                                       aria-label="Organization"
                                       matInput
                                       formControlName="organizationlist"
                                       [matAutocomplete]="auto">
                              
                                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                  <mat-option *ngFor="let option of filteredOrganizationList" [value]="option.organizationName">
                                    {{ option.organizationName }}
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                              
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Product Category</mat-label>
                                <mat-select formControlName="productlist" (change)="onSelectionChange()">
                                    <mat-option value="All" checked>All</mat-option>
                                    <mat-option *ngFor="let productcategory of productcategorylistArray; let i=index"
                                        [value]="productcategory.name">{{productcategory.name}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Search</mat-label>
                                <input matInput placeholder="" formControlName="search">
                            </mat-form-field>
                        </div>
                        <div class="col-sm-auto">
                            <div class="d-flex gap-2">
                                <button mat-flat-button>Search</button>
                            </div>
                        </div>
                    </div>
                </form>
                <table class="table">
                    <thead>
                        <tr>
                            <th>prod name</th>
                            <th>prod type</th>
                            <th>prod cate</th>
                            <th>org name</th>
                            <th>hsn code</th>
                            <th *ngIf="this.filterform.get('producttype')?.value == 'service' ? '' : 'd-none' ">tracking method</th>
                            <th>is Active</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let proddata of tblArray; let i=index">
                            <td>{{proddata.productName}} </td>
                            <td>{{proddata.productType}} </td>
                            <td>{{proddata.productCategory}} </td>
                            <td>{{proddata.organizationName}} </td>
                            <td>{{proddata.hsnSacCode}} </td>
                            <td *ngIf="this.filterform.get('producttype')?.value == 'service' ? '' : 'd-none' ">{{proddata.trackingMethod}} </td>
                            <td>
                                <mat-slide-toggle [checked]="proddata.isActive"></mat-slide-toggle>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-sm-4">
                <div class="card">
                    <div class="card-header">Add Product</div>
                    <div class="card-body">
                        <form [formGroup]="addproductform" (ngSubmit)="addproduct()">
                            <div class="row gy-2">
                                <div class="col-sm-12">
                                    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" class="w-100"
                                        formControlName="producttype">
                                        <mat-button-toggle value="inventory">Inventory</mat-button-toggle>
                                        <mat-button-toggle value="service">Service</mat-button-toggle>
                                        <mat-button-toggle value="asset">Assets</mat-button-toggle>
                                    </mat-button-toggle-group>
                                </div>
                                <div class="col-sm-12">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>Select Organization</mat-label>
                                        <mat-select formControlName="organizationlist">
                                            <mat-option *ngFor="let orglist of organizationlistArray; let i=index"
                                                [value]="orglist.id">{{orglist.organizationName}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>Product Category</mat-label>
                                        <mat-select formControlName="productlist">
                                            <mat-option
                                                *ngFor="let productcategory of productcategorylistArray; let i=index"
                                                [value]="productcategory.name">{{productcategory.name}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-sm-12">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>Product Name</mat-label>
                                        <input matInput placeholder="" formControlName="productname">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>HSN/SAC Code</mat-label>
                                        <input matInput placeholder="" formControlName="hsnsac">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12" *ngIf="this.f['producttype'].value != 'asset'">
                                    <div class="d-flex gap-2">
                                        <mat-checkbox class="example-margin" formControlName="can_be_sold">Can be
                                            Sold</mat-checkbox>
                                        <mat-checkbox class="example-margin" formControlName="can_be_purchased">Can Be
                                            Purchasede</mat-checkbox>
                                    </div>
                                </div>
                                <div class="col-sm-12" *ngIf="this.f['producttype'].value != 'service' ">
                                    <div>Tracking Method</div>
                                    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" class="w-100"
                                        formControlName="trackingmethod">
                                        <mat-button-toggle value="storable">Storable</mat-button-toggle>
                                        <mat-button-toggle value="batch">Batch</mat-button-toggle>
                                        <mat-button-toggle value="uniquenum">Unique Sr. Number</mat-button-toggle>
                                    </mat-button-toggle-group>
                                </div>
                                <div class="col-sm-12">
                                    <input type="file" formControlName="imgupload">
                                </div>
                                <div class="col-sm-12">
                                    <div class="d-flex align-items-center gap-2">
                                        <button class="btn btn-scondary">Clear</button>
                                        <button class="btn btn-primary">Save</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>